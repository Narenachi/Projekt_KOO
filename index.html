<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Koordynacji Medycznej</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        // Importujemy ikony z globalnego obiektu Lucide
        const { Calendar, Phone, ClipboardList, Users, FileText, TrendingUp, CheckCircle, XCircle, Clock, Plus } = lucide;

        const App = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [currentUser, setCurrentUser] = useState(null);
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [password, setPassword] = useState('');
            const [selectedCoordinator, setSelectedCoordinator] = useState('');

            const coordinators = ['GiermanowskaO', 'IwaneczkoK', 'JablonskaE', 'KoperaN', 'MetlerskaA', 'SzatonP'];

            // Twoje dane
            const [callsToMake] = useState([
                { id: 1, patient: 'Jan Kowalski', date: '2026-01-17', phone: '123456789', done: false, overdue: false },
                { id: 3, patient: 'Piotr Wiśniewski', date: '2026-01-15', phone: '555666777', done: false, overdue: true }
            ]);

            const handleLogin = () => {
                if (password === 'PaniAlcer<3' && selectedCoordinator) {
                    // SYMULACJA ŁĄCZENIA Z DYSKIEM GOOGLE
                    const btn = document.getElementById('login-btn');
                    btn.innerText = "Łączenie z Google Drive...";
                    
                    setTimeout(() => {
                        setCurrentUser(selectedCoordinator);
                        setIsLoggedIn(true);
                    }, 1200);
                } else {
                    alert('Błędne hasło!');
                }
            };

            if (!isLoggedIn) {
                return (
                    <div class="min-h-screen flex items-center justify-center p-4 bg-teal-50">
                        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md">
                            <h1 class="text-2xl font-bold mb-6 text-center">Logowanie (Dysk Google)</h1>
                            <select onChange={(e) => setSelectedCoordinator(e.target.value)} class="w-full p-2 mb-4 border rounded">
                                <option value="">Wybierz koordynatora</option>
                                {coordinators.map(c => <option key={c} value={c}>{c}</option>)}
                            </select>
                            <input type="password" placeholder="Hasło" onChange={(e) => setPassword(e.target.value)} class="w-full p-2 mb-4 border rounded" />
                            <button id="login-btn" onClick={handleLogin} class="w-full bg-teal-700 text-white p-2 rounded">Zaloguj i synchronizuj</button>
                        </div>
                    </div>
                );
            }

            return (
                <div class="p-8">
                    <h1 class="text-3xl font-bold text-teal-800">Panel Koordynatora: {currentUser}</h1>
                    <p class="text-green-600 mb-6">✓ Zsynchronizowano z arkuszem Google Drive: Pacjenci_2026</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white p-6 rounded shadow">
                            <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
                                <i data-lucide="phone"></i> Telefony do wykonania
                            </h2>
                            {callsToMake.map(call => (
                                <div key={call.id} class="p-3 border-b flex justify-between">
                                    <span>{call.patient} ({call.phone})</span>
                                    <span class={call.overdue ? "text-red-500" : ""}>{call.date}</span>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
        
        // Inicjalizacja ikon po załadowaniu Reacta
        setTimeout(() => lucide.createIcons(), 500);
    </script>
</body>
</html>
